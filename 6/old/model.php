<?php//// Список всех статей//function articles_all(){    // Запрос.    $query = "SELECT * FROM articles ORDER BY id_article DESC";    $result = mysql_query($query);    if (!$result)        die(mysql_error());    // Извлечение из БД.    $n = mysql_num_rows($result);    $articles = [];    if ($n == 0)    {        return false;    }    else    {        for ($i = 0; $i < $n; $i++)        {            $row = mysql_fetch_assoc($result);            $articles[] = $row;        }        return $articles;    }}//// Конкретная статья//function articles_get($id_article){    // Запрос.    $t = "SELECT * FROM articles WHERE id_article = %d";    $query = sprintf($t, $id_article);    $result = mysql_query($query);    if (!$result)        die(mysql_error());    // Извлечение из БД.    if (mysql_num_rows($result) == 0)    {        return false;    }    else    {        return mysql_fetch_assoc($result);    }}//// Добавить статью//function articles_new($title, $content){    // Подготовка.    $title = trim($title);    $content = trim($content);    // Проверка.    if ($title == '')        return false;    // Запрос.    $t = "INSERT INTO articles (title, content) VALUES ('%s', '%s')";    $query = sprintf($t,        mysql_real_escape_string($title),        mysql_real_escape_string($content));    $result = mysql_query($query);    if (!$result)        die(mysql_error());    return mysql_insert_id();}//// Изменить статью//function articles_edit($id_article, $title, $content){    // Подготовка.    $title = trim($title);    $content = trim($content);    // Проверка.    if ($title == '')        return false;    // Запрос.    $t = "UPDATE articles SET title = '%s', content = '%s' WHERE id_article = %d";    $query = sprintf($t, $title, $content, $id_article);    $result = mysql_query($query);    if (!$result)        die(mysql_error());    return mysql_affected_rows();}//// Удалить статью//function articles_delete($id_article){    // Запрос.    $t = "DELETE FROM articles WHERE id_article = %d";    $query = sprintf($t, $id_article);    $result = mysql_query($query);    if (!$result)        die(mysql_error());    return mysql_affected_rows();}//// Короткое описание статьи//function articles_intro(){    // Запрос.    $query = "SELECT * FROM articles ORDER BY id_article DESC";    $result = mysql_query($query);    if (!$result)        die(mysql_error());    // Извлечение из БД.    $n = mysql_num_rows($result);    $articles = [];    if ($n == 0)    {        return false;    }    else    {        for ($i = 0; $i < $n; $i++)        {            $row = mysql_fetch_assoc($result);            $row['content'] = (strlen($row['content']) > 50) ? mb_substr($row['content'], 0, 50, 'UTF-8') . '...' : $row['content'];            $articles[] = $row;        }        return $articles;    }}//// Формирование меню//function get_menu($for_action){    $menu_items = [        'Index' =>            ['title' => 'Главная',            'src' => './index.php'],        'Editor' =>            ['title' => 'Консоль редактора',            'src' => './index.php?c=Article&a=Editor']    ];    $menu_for_action = [];    foreach($menu_items as $key => $item)    {        $menu_for_action[] =            ['title' => $item['title'],            'src' => $item['src'],            'class' => ($key == $for_action) ? 'active' : ''];    }    return $menu_for_action;}